{"version":3,"sources":["components/Container/Container.jsx","components/Navigations/Navigations.jsx","components/AuthNav/AuthNav.jsx","components/UserMenu/UserMenu.jsx","components/AppBar/AppBar.jsx","components/PrivateRoute.js","components/PublicRoute.js","components/App.js","redux/store.js","index.js","components/AuthNav/authNav.module.css","components/Navigations/navigation.module.css","components/UserMenu/userMenu.module.css","components/AppBar/appBar.module.css","redux/contacts/phoneBookAction.js","redux/contacts/phoneBookOperations.js","redux/contacts/phoneBookSelectors.js","redux/contacts/phoneBookReducer.js","components/Spinner/Spinner.js","components/Container/container.module.css","components/Spinner/loader.module.css","redux/auth/authAction.js","redux/auth/authOperations.js","redux/auth/authSelectors.js","redux/auth/authReducer.js"],"names":["Container","children","className","style","container","Navigation","isAuth","useSelector","authSelectors","getIsAuthenticated","exact","to","link","activeClassName","activeLink","AuthNav","nav","UserMenu","name","getUsername","dispatch","useDispatch","userContent","userText","btn","type","onClick","authOperations","logOut","AppBar","header","Navigations","navigation","connect","state","Component","component","redirectTo","routeProps","render","props","restricted","HomePage","lazy","ContactsPage","RegisterPage","LoginPage","App","useEffect","getCurrentUser","fallback","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whiteList","store","configureStore","reducer","contacts","contactsReducer","auth","persistReducer","authReducer","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById","module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","clearError","fetchContacts","actions","axios","get","then","data","catch","error","message","addContact","contact","post","deleteContact","contactId","delete","getFilter","filter","getAllContacts","items","getLoading","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","number","includes","createReducer","contactActions","_","payload","id","onError","combineReducers","Spin","loader","color","height","width","timeout","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","defaults","baseURL","token","headers","common","Authorization","register","credentials","a","authActions","response","LogIn","getState","persistedToken","user","initialUserState","email"],"mappings":"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","file":"static/js/main.f17ffb2a.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './container.module.css';\r\nconst Container = ({ children }) => {\r\n  return <div className={style.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import React from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './navigation.module.css';\r\n// Data\r\nimport { authSelectors } from '../../redux/auth';\r\n//hook\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Navigation = () => {\r\n  const isAuth = useSelector(authSelectors.getIsAuthenticated);\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        exact\r\n        to=\"/\"\r\n        className={style.link}\r\n        activeClassName={style.activeLink}\r\n      >\r\n        Home\r\n      </NavLink>\r\n\r\n      {isAuth && (\r\n        <NavLink\r\n          exact\r\n          to=\"/contacts\"\r\n          className={style.link}\r\n          activeClassName={style.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './authNav.module.css';\r\n\r\nconst AuthNav = () => {\r\n  return (\r\n    <div className={style.nav}>\r\n      <NavLink\r\n        exact\r\n        to=\"/register\"\r\n        className={style.link}\r\n        activeClassName={style.activeLink}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n\r\n      <NavLink\r\n        exact\r\n        to=\"/login\"\r\n        className={style.link}\r\n        activeClassName={style.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import React from 'react';\r\n\r\nimport style from './userMenu.module.css';\r\n//hook\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\n\r\nconst UserMenu = () => {\r\n  const name = useSelector(authSelectors.getUsername);\r\n  const dispatch = useDispatch();\r\n  const onLogout = () => dispatch(authOperations.logOut());\r\n  return (\r\n    <div className={style.userContent}>\r\n      <span className={style.userText}>Welcome, {name}</span>\r\n\r\n      <button className={style.btn} type=\"button\" onClick={onLogout}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n","import React from 'react';\r\n\r\nimport style from './appBar.module.css';\r\n// Data\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nimport Navigations from '../Navigations';\r\nimport AuthNav from '../AuthNav';\r\nimport UserMenu from '../UserMenu';\r\n//hook\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst AppBar = () => {\r\n  const isAuth = useSelector(authSelectors.getIsAuthenticated);\r\n  return (\r\n    <header className={style.header}>\r\n      <Navigations className={style.navigation} />\r\n\r\n      {isAuth ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { authSelectors } from '../redux/auth';\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuth,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuth ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\nconst mapStateToProps = state => ({\r\n  isAuth: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuth,\r\n  redirectTo,\r\n  ...routeProps // (path, restricted)\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuth && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Suspense, lazy, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { authOperations } from '../redux/auth';\r\n\r\nimport { Switch } from 'react-router';\r\n\r\nimport Container from './Container';\r\nimport AppBar from './AppBar';\r\n\r\n// Route\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicRoute from './PublicRoute';\r\nimport Spin from './Spinner';\r\n\r\nconst HomePage = lazy(() =>\r\n  import('../pages/HomePage' /* webpackChunkName: \"home-page\" */),\r\n);\r\n\r\nconst ContactsPage = lazy(() =>\r\n  import('../pages/ContactsPage' /* webpackChunkName: \"contacts-page\" */),\r\n);\r\n\r\nconst RegisterPage = lazy(() =>\r\n  import('../pages/RegisterPage' /* webpackChunkName: \"register-page\" */),\r\n);\r\n\r\nconst LoginPage = lazy(() =>\r\n  import('../pages/LoginPage' /* webpackChunkName: \"login-page\" */),\r\n);\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(authOperations.getCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <AppBar />\r\n        <Suspense fallback={<Spin />}>\r\n          <Switch>\r\n            <PublicRoute exact path=\"/\" component={HomePage} />\r\n            <PrivateRoute\r\n              path=\"/contacts\"\r\n              redirectTo=\"/login\"\r\n              component={ContactsPage}\r\n            />\r\n            <PublicRoute\r\n              path=\"/register\"\r\n              restricted\r\n              redirectTo=\"/contacts\"\r\n              component={RegisterPage}\r\n            />\r\n            <PublicRoute\r\n              path=\"/login\"\r\n              restricted\r\n              redirectTo=\"/contacts\"\r\n              component={LoginPage}\r\n            />\r\n          </Switch>\r\n        </Suspense>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport storage from 'redux-persist/lib/storage'; // local storage\r\n// import logger from 'redux-logger';\r\nimport { authReducer } from './auth';\r\nimport { contactsReducer } from './contacts';\r\n\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n\r\n  // logger,\r\n];\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whiteList: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n  middleware,\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport store from './redux/store';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate loading={null} persistor={store.persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"authNav_nav__w85Kq\",\"link\":\"authNav_link__1o9jG\",\"activeLink\":\"authNav_activeLink__REsB1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"navigation_link__29K9t\",\"activeLink\":\"navigation_activeLink__1BpI2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"userMenu_btn__2KXLd\",\"userContent\":\"userMenu_userContent__2yksV\",\"userText\":\"userMenu_userText__1C2GJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"appBar_header__5Q6iI\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\n//Get\r\nconst fetchContactsRequest = createAction('@phonebook/fetchContactsRequest'); //start\r\nconst fetchContactsSuccess = createAction('@phonebook/fetchContactsSuccess'); //success\r\nconst fetchContactsError = createAction('@phonebook/fetchContactsError'); //error\r\n\r\n//AddContact\r\nconst addContactRequest = createAction('@phonebook/addContactRequest'); //start\r\nconst addContactSuccess = createAction('@phonebook/addContactSuccess'); //success\r\nconst addContactError = createAction('@phonebook/addContactError'); //error\r\n\r\n//Delete contact\r\n\r\nconst deleteContactRequest = createAction('@phonebook/deleteContactRequest'); //start\r\nconst deleteContactSuccess = createAction('@phonebook/deleteContactSuccess'); //success\r\nconst deleteContactError = createAction('@phonebook/deleteContactError'); //error\r\n//ChangeFilter\r\nconst changeFilter = createAction('@phonebook/changeFilter');\r\n\r\nconst clearError = createAction('@phonebook/clearError');\r\n\r\nexport default {\r\n  //GET\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  //AddContact\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  //Delete contact\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  //ChangeFilter\r\n  changeFilter,\r\n  //error\r\n  clearError,\r\n};\r\n","import axios from 'axios';\r\nimport actions from './phoneBookAction';\r\n\r\n//Get\r\nconst fetchContacts = () => dispatch => {\r\n  dispatch(actions.fetchContactsRequest());\r\n\r\n  axios\r\n    .get('/contacts')\r\n\r\n    .then(({ data }) => dispatch(actions.fetchContactsSuccess(data)))\r\n    .catch(error => dispatch(actions.fetchContactsError(error.message)));\r\n};\r\n//AddContact\r\nconst addContact = contact => dispatch => {\r\n  dispatch(actions.addContactRequest());\r\n  axios\r\n    .post('/contacts', contact)\r\n    .then(({ data }) => dispatch(actions.addContactSuccess(data)))\r\n    .catch(error => dispatch(actions.addContactError(error.message)));\r\n};\r\n\r\n//Delete contact\r\nconst deleteContact = contactId => dispatch => {\r\n  dispatch(actions.deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${contactId}`)\r\n    .then(() => dispatch(actions.deleteContactSuccess(contactId)))\r\n    .catch(error => dispatch(actions.deleteContactError(error.message)));\r\n};\r\n\r\nexport default { fetchContacts, addContact, deleteContact };\r\n","import { createSelector } from '@reduxjs/toolkit';\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getFilter = state => state.contacts.filter;\r\n\r\nconst getAllContacts = state => state.contacts.items;\r\n\r\nconst getFilteredContacts = createSelector(\r\n  [getAllContacts, getFilter],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n\r\n    return contacts.filter(\r\n      ({ name, number }) =>\r\n        name.toLowerCase().includes(normalizedFilter) ||\r\n        number.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);\r\n\r\nexport default { getLoading, getFilter, getAllContacts, getFilteredContacts };\r\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\n\nimport contactActions from './phoneBookAction';\n\nconst initialState = {\n  contacts: [],\n  filter: '',\n  loading: false,\n  error: null,\n};\nconst items = createReducer([], {\n  [contactActions.fetchContactsSuccess]: (_, { payload }) => [...payload],\n  [contactActions.addContactSuccess]: (state, { payload }) => [\n    ...state,\n    payload,\n  ],\n  [contactActions.deleteContactSuccess]: (state, { payload }) =>\n    state.filter(contact => contact.id !== payload),\n});\n\nconst filter = createReducer('', {\n  [contactActions.changeFilter]: (_, { payload }) => payload,\n});\n\nconst onError = (_, { payload }) => payload;\nconst loading = createReducer(false, {\n  //get\n  [contactActions.fetchContactsRequest]: () => true,\n  [contactActions.fetchContactsSuccess]: () => false,\n  [contactActions.fetchContactsError]: () => false,\n  //add contact\n  [contactActions.addContactRequest]: () => true,\n  [contactActions.addContactSuccess]: () => false,\n  [contactActions.addContactError]: () => false,\n  //delete contact\n  [contactActions.deleteContactRequest]: () => true,\n  [contactActions.deleteContactSuccess]: () => false,\n  [contactActions.deleteContactError]: () => false,\n});\n\nconst error = createReducer(initialState.error, {\n  [contactActions.fetchContactsError]: onError,\n  [contactActions.addContactError]: onError,\n  [contactActions.deleteContactError]: onError,\n  [contactActions.clearError]: () => null,\n});\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport style from './loader.module.css';\r\n\r\nclass Spin extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className={style.loader}>\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#1877f2\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Spin;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__2ujVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1KJWm\"};","import { createAction } from '@reduxjs/toolkit';\r\n//Register\r\nconst registerRequest = createAction('@auth/registerRequest');\r\nconst registerSuccess = createAction('@auth/registerSuccess');\r\nconst registerError = createAction('@auth/registerError');\r\n//Log-in\r\nconst loginRequest = createAction('@auth/loginRequest');\r\nconst loginSuccess = createAction('@auth/loginSuccess');\r\nconst loginError = createAction('@auth/loginError');\r\n//Log-out\r\nconst logoutRequest = createAction('@auth/logoutRequest');\r\nconst logoutSuccess = createAction('@auth/logoutSuccess');\r\nconst logoutError = createAction('@auth/logoutError');\r\n//Get\r\nconst getCurrentUserRequest = createAction('@auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('@auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('@auth/getCurrentUserError');\r\n\r\nexport default {\r\n  //Register\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  //Log-in\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  //Log-out\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  //Get\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","import axios from 'axios';\r\n\r\n// Data\r\nimport authActions from './authAction';\r\n//https://goit-phonebook-api.herokuapp.com/\r\n//connections-api.herokuapp.com/docs/#/\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n//POST /users/signup\r\n// body { name, email, password } -  credentials\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n    token.set(response.data.token);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\n//POST\r\n// / users/login\r\nconst LogIn = credentials => async dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/login', credentials);\r\n    token.set(response.data.token);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n//POST\r\n// /users/logout\r\nconst logOut = () => async dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\n// Get\r\n//   /users/current\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  axios\r\n    .get('/users/current')\r\n    .then(({ data }) => dispatch(authActions.getCurrentUserSuccess(data)))\r\n    .catch(error => dispatch(authActions.getCurrentUserError(error)));\r\n};\r\n\r\nexport default { register, LogIn, logOut, getCurrentUser };\r\n","const getIsAuthenticated = state => state.auth.isAuth;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nexport default { getIsAuthenticated, getUsername };\r\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\r\n\r\nimport authActions from './authAction';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n  [authActions.logoutSuccess]: () => initialUserState,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: (_, { payload }) => payload,\r\n  [authActions.loginError]: (_, { payload }) => payload,\r\n  [authActions.logoutError]: (_, { payload }) => payload,\r\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\nconst isAuth = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n\r\n  [authActions.loginSuccess]: () => true,\r\n\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n\r\n  //  isAuthenticated=false\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isAuth,\r\n});\r\n"],"sourceRoot":""}